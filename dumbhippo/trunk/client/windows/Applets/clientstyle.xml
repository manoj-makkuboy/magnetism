<?xml version="1.0" ?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
				xmlns:dh="http://dumbhippo.com/schema/clientjs"
				version="1.0">
	<xsl:param name="appleturl"/>
	<xsl:param name="senderPhotoUrl"/>
	<xsl:param name="senderName"/>
	<xsl:param name="linkTitle"/>
	<xsl:param name="linkURL"/>	
	<xsl:param name="linkDescription"/>	
	<xsl:output method="html" 
				encoding="UTF-8"/>
	<xsl:template match="dh:corescript">
		<script language="javascript" src="{$appleturl}notification.js"></script>
		<xsl:apply-templates/>
	</xsl:template>
	<xsl:template match="dh:linkimage">
		<img src="{$senderPhotoUrl}"></img>
		<xsl:apply-templates/>
	</xsl:template>
	<xsl:template match="dh:senderName">
		<xsl:value-of select="$senderName"/>
	</xsl:template>
	<xsl:template match="dh:link">
		<a id="dhLink" onclick="dh.client.handleLinkClicked();" href="{$linkURL}" class="linkTitle"><xsl:value-of select="$linkTitle"/></a>
	</xsl:template>
	<xsl:template match="dh:linkDescription">
		<xsl:value-of select="$linkDescription"/>
	</xsl:template>			
	<!-- pass through everything else verbatim -->
	<xsl:template match="*">
		<xsl:element name="{name()}">
			<xsl:copy-of select="@*" />
			<xsl:apply-templates />
		</xsl:element>
	</xsl:template>
</xsl:stylesheet>
